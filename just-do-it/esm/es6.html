<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ES6 | 学习笔记</title>
    <meta name="description" content="Learning Docs by LIUeng" />
    <link rel="icon" href="/ent-docs/logo.ico">  <link rel="preload" href="/ent-docs/assets/css/0.styles.3bb58c56.css" as="style"><link rel="preload" href="/ent-docs/assets/js/app.cb8a79a7.js" as="script"><link rel="preload" href="/ent-docs/assets/js/2.791e7058.js" as="script"><link rel="preload" href="/ent-docs/assets/js/29.1422cf46.js" as="script"><link rel="prefetch" href="/ent-docs/assets/js/10.b7b4912c.js"><link rel="prefetch" href="/ent-docs/assets/js/11.ad249abb.js"><link rel="prefetch" href="/ent-docs/assets/js/12.abd76b24.js"><link rel="prefetch" href="/ent-docs/assets/js/13.f0a63076.js"><link rel="prefetch" href="/ent-docs/assets/js/14.f7ef194e.js"><link rel="prefetch" href="/ent-docs/assets/js/15.45b1c447.js"><link rel="prefetch" href="/ent-docs/assets/js/16.5c19fa88.js"><link rel="prefetch" href="/ent-docs/assets/js/17.86a9d73a.js"><link rel="prefetch" href="/ent-docs/assets/js/18.53ccf749.js"><link rel="prefetch" href="/ent-docs/assets/js/19.9c2d1b7d.js"><link rel="prefetch" href="/ent-docs/assets/js/20.ffcf0ee0.js"><link rel="prefetch" href="/ent-docs/assets/js/21.723e772d.js"><link rel="prefetch" href="/ent-docs/assets/js/22.a640b4a0.js"><link rel="prefetch" href="/ent-docs/assets/js/23.e78c27d6.js"><link rel="prefetch" href="/ent-docs/assets/js/24.c5f8d224.js"><link rel="prefetch" href="/ent-docs/assets/js/25.a085b9a6.js"><link rel="prefetch" href="/ent-docs/assets/js/26.0d935afd.js"><link rel="prefetch" href="/ent-docs/assets/js/27.796c68ea.js"><link rel="prefetch" href="/ent-docs/assets/js/28.164b28de.js"><link rel="prefetch" href="/ent-docs/assets/js/3.866f7336.js"><link rel="prefetch" href="/ent-docs/assets/js/30.03982151.js"><link rel="prefetch" href="/ent-docs/assets/js/31.6e3e11ca.js"><link rel="prefetch" href="/ent-docs/assets/js/32.e4b04cc4.js"><link rel="prefetch" href="/ent-docs/assets/js/33.5ef7eced.js"><link rel="prefetch" href="/ent-docs/assets/js/34.95595da8.js"><link rel="prefetch" href="/ent-docs/assets/js/35.3e0058c0.js"><link rel="prefetch" href="/ent-docs/assets/js/36.31028fba.js"><link rel="prefetch" href="/ent-docs/assets/js/37.64726b7b.js"><link rel="prefetch" href="/ent-docs/assets/js/38.959474fb.js"><link rel="prefetch" href="/ent-docs/assets/js/39.e425f96d.js"><link rel="prefetch" href="/ent-docs/assets/js/4.fb752034.js"><link rel="prefetch" href="/ent-docs/assets/js/40.f1f2b77e.js"><link rel="prefetch" href="/ent-docs/assets/js/41.8282be7f.js"><link rel="prefetch" href="/ent-docs/assets/js/42.84b96a74.js"><link rel="prefetch" href="/ent-docs/assets/js/43.cd743f60.js"><link rel="prefetch" href="/ent-docs/assets/js/44.2e47973a.js"><link rel="prefetch" href="/ent-docs/assets/js/45.dcb08d44.js"><link rel="prefetch" href="/ent-docs/assets/js/46.11e5d2b2.js"><link rel="prefetch" href="/ent-docs/assets/js/47.c8496480.js"><link rel="prefetch" href="/ent-docs/assets/js/48.9ce9e906.js"><link rel="prefetch" href="/ent-docs/assets/js/49.ced280bb.js"><link rel="prefetch" href="/ent-docs/assets/js/5.d1b68b9b.js"><link rel="prefetch" href="/ent-docs/assets/js/50.af9c2be8.js"><link rel="prefetch" href="/ent-docs/assets/js/6.4156ec29.js"><link rel="prefetch" href="/ent-docs/assets/js/7.0812bd3b.js"><link rel="prefetch" href="/ent-docs/assets/js/8.aff490b4.js"><link rel="prefetch" href="/ent-docs/assets/js/9.e72fba2b.js"> <link rel="stylesheet" href="/ent-docs/assets/css/0.styles.3bb58c56.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ent-docs/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ent-docs/just-do-it/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/ent-docs/article/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/ent-docs/bigfish/" class="nav-link">Bigfish</a></div><div class="nav-item"><a href="/ent-docs/alogrithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="source code" class="dropdown-title"><span class="title">源码阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ent-docs/source-code/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/ent-docs/source-code/vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><a href="/ent-docs/markdown/" class="nav-link">EDIT</a></div><div class="nav-item"><a href="https://www.github.com/LIUeng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ent-docs/just-do-it/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/ent-docs/article/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/ent-docs/bigfish/" class="nav-link">Bigfish</a></div><div class="nav-item"><a href="/ent-docs/alogrithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="source code" class="dropdown-title"><span class="title">源码阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ent-docs/source-code/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/ent-docs/source-code/vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><a href="/ent-docs/markdown/" class="nav-link">EDIT</a></div><div class="nav-item"><a href="https://www.github.com/LIUeng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>写在前面</span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>第一章：HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>第二章：CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>第三章：Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>第四章：ES新特性</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ent-docs/just-do-it/esm/es6.html" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#let-const" class="sidebar-link">let &amp; const</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#解构赋值" class="sidebar-link">解构赋值</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#正则的扩展" class="sidebar-link">正则的扩展</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#set-map" class="sidebar-link">Set &amp;&amp; Map</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#generate" class="sidebar-link">Generate</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#class" class="sidebar-link">Class</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#arraybuffer" class="sidebar-link">ArrayBuffer</a></li><li class="sidebar-sub-header"><a href="/ent-docs/just-do-it/esm/es6.html#commonjs-es6" class="sidebar-link">CommonJS ES6</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>第五章：NodeJS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h1> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>记录一些之前没有注意的地方</p></div> <h2 id="let-const"><a href="#let-const" class="header-anchor">#</a> let &amp; const</h2> <p><strong>1. 暂时行死区</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">typeof</span> x<span class="token punctuation">;</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>
</code></pre></div><h2 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h2> <p><strong>1. 数组结构赋值</strong></p> <p><code>如果等号左边不是可遍历对象，报错！需要Iterator对象</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 报错</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> flase<span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>对象和数组结构赋值，默认值生效的条件，属性值严格等于undefined</code></p> <p><strong>2. 对象结构赋值</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数参数默认值</span>
<span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="正则的扩展"><a href="#正则的扩展" class="header-anchor">#</a> 正则的扩展</h2> <h3 id="match-exec-matchall"><a href="#match-exec-matchall" class="header-anchor">#</a> match &amp;&amp; exec &amp;&amp; matchAll</h3> <p><code>match 返回所有匹配的结果数组, 不包括位置信息; exec 返回当前匹配的数组, 继续匹配位置; matchAll 一次性匹配所有结果, 包括位置信息</code></p> <ul><li>新增方法
<ul><li>RegExp.prototype.flags 返回正则表达式的修饰符</li> <li>...</li></ul></li></ul> <p><strong>1. u（unicode）修饰符</strong></p> <p><code>大于0xFFFF的unicode字符码</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex">/\u{20BB7}/u</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// RegExp.prototype.unicode 属性</span>
<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token regex">/hello/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token regex">/hello/u</span><span class="token punctuation">;</span>
r1<span class="token punctuation">.</span>unicode <span class="token comment">// false</span>
r2<span class="token punctuation">.</span>unicode <span class="token comment">// true</span>
</code></pre></div><p><strong>2. sticky修饰符（y)</strong></p> <ul><li><p>g匹配模式对比</p> <ul><li><ol><li>开头^自带（头部开始）</li></ol></li> <li><ol start="2"><li>从匹配的第一个位置再进行匹配</li></ol></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// RegExp.prototype.sticky 属性</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/hello\d/y</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span>sticky <span class="token comment">// true</span>
</code></pre></div><p><strong>3. dotAll</strong></p> <p><code>针对 \. 不匹配换行符\n</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// one</span>
<span class="token operator">/</span>foo<span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">]</span>bar<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'foo\nbar'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// two</span>
<span class="token operator">/</span>foo<span class="token punctuation">.</span>bar<span class="token operator">/</span>s<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'foo\nbar'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>4. 后行断言</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 前行断言</span>
<span class="token operator">/</span>\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'100% of US presidents have been male'</span><span class="token punctuation">)</span>  <span class="token comment">// [&quot;100&quot;]</span>
<span class="token operator">/</span>\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'that’s all 44 of them'</span><span class="token punctuation">)</span>                 <span class="token comment">// [&quot;44&quot;]</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 后行断言</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span>\$<span class="token punctuation">)</span>\d<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'Benjamin Franklin is on the $100 bill'</span><span class="token punctuation">)</span>  <span class="token comment">// [&quot;100&quot;]</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">!</span>\$<span class="token punctuation">)</span>\d<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'it’s is worth about €90'</span><span class="token punctuation">)</span>

<span class="token comment">// ⚠️反斜杠与通常的顺序相反</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>d\<span class="token number">1</span><span class="token punctuation">)</span>r<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hodor'</span><span class="token punctuation">)</span>  <span class="token comment">// null</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span>\<span class="token number">1</span><span class="token function">d</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span>r<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hodor'</span><span class="token punctuation">)</span>  <span class="token comment">// [&quot;r&quot;, &quot;o&quot;]</span>
</code></pre></div><p><strong>5. Unicode 属性类</strong></p> <p><code>\p</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regexGreekSymbol <span class="token operator">=</span> <span class="token regex">/\p{Script=Greek}/u</span><span class="token punctuation">;</span>
regexGreekSymbol<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'π'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>6. 具名组匹配</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex">/(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/u</span><span class="token punctuation">;</span>
<span class="token string">'2015-01-02'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">'$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;'</span><span class="token punctuation">)</span> <span class="token comment">// '02/01/2015'</span>

<span class="token comment">// \k&lt;组名&gt;</span>
<span class="token keyword">const</span> <span class="token constant">RE_TWICE</span> <span class="token operator">=</span> <span class="token regex">/^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;$/</span><span class="token punctuation">;</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!abc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!ab'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 数字引用（\1）依然有效</span>
<span class="token keyword">const</span> <span class="token constant">RE_TWICE</span> <span class="token operator">=</span> <span class="token regex">/^(?&lt;word&gt;[a-z]+)!\1$/</span><span class="token punctuation">;</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!abc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!ab'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 同时使用</span>
<span class="token keyword">const</span> <span class="token constant">RE_TWICE</span> <span class="token operator">=</span> <span class="token regex">/^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;!\1$/</span><span class="token punctuation">;</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!abc!abc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc!abc!ab'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h2> <p><code>独一无二</code></p> <ul><li><p>不能与其它类型进行运算</p></li> <li><p>可以转为bool值</p></li> <li><p>Symbol.prototype.description</p></li> <li><p>作为属性名，必须放在方括号中</p></li> <li><p>Object.getOwnPropertySymbols()</p></li> <li><p>Symbol.for() &amp; Symbol.keyFor()</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s1 <span class="token operator">===</span> s2 <span class="token comment">// true</span>
  Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// &quot;foo&quot;</span>
</code></pre></div></li> <li><p>11个内置的Symbol值，指向语言内部使用的方法</p></li> <li><p>...</p></li></ul> <h2 id="set-map"><a href="#set-map" class="header-anchor">#</a> Set &amp;&amp; Map</h2> <ul><li>Set</li></ul> <p><code>NaN === NaN true</code> 添加两次只有一个NaN值</p> <p><code>{} === {} false</code> 添加两次保持两次</p> <ul><li>API(Set)
<ul><li><p>方法</p> <ul><li>size</li> <li>add</li> <li>has</li> <li>delete</li> <li>clear</li></ul></li> <li><p>遍历方法</p> <ul><li>keys</li> <li>values</li> <li>entries</li> <li>forEach</li></ul></li> <li><p>数组去重</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// spread</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [1, 3, 4, 6, 5]</span>
  <span class="token comment">// Array.from</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 3, 4, 6, 5]</span>
</code></pre></div></li></ul></li> <li>WeakSet</li></ul> <p><code>值必须为对象（数值成员必须为对象），弱引用，不考虑垃圾回收机制，不支持遍历</code></p> <ul><li><p>API(WeakSet)</p> <ul><li>方法
<ul><li>add</li> <li>delete</li> <li>has</li></ul></li></ul></li> <li><p>Map</p></li></ul> <p><code>作为构造函数，Map 也可以接受一个数组作为参数。该数组的成员是一个个表示键值对的数组</code></p> <div class="custom-block warning"><p class="custom-block-title">Object VS Map</p> <p>传统的JS中的Object提供键值对集合（只能用字符串作为键值）
Map提供值-值形式</p></div> <ul><li><p>API(Map)</p> <ul><li><p>方法</p> <ul><li>set: f(key, value)</li> <li>get: f(key)</li> <li>size</li> <li>has</li> <li>delete</li> <li>clear</li></ul></li> <li><p>遍历方法</p> <ul><li>keys</li> <li>values</li> <li>entries</li> <li>forEach</li></ul></li></ul></li> <li><p>WeakMap</p></li></ul> <p><code>只接受键名为对象（null除外），不计入垃圾回收机制</code></p> <ul><li>API(WeakMap)
<ul><li>方法
<ul><li>get</li> <li>set</li> <li>delete</li> <li>has</li></ul></li></ul></li></ul> <h2 id="generate"><a href="#generate" class="header-anchor">#</a> Generate</h2> <p><code>* yeild</code></p> <ul><li>next携带参数，表示上一个yield的返回值，第一次传参数无效</li> <li>for...of 遍历return值不在遍历值当中</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>throw</p> <ul><li>至少执行一次next()</li> <li>捕获错误
<ul><li>外部内部都存在try...catch，捕获内部 --&gt; 捕获外部</li> <li>内部</li> <li>外部</li> <li>throw &amp; g.throw 不同</li> <li>一旦抛出错误，没有被内部捕获，不会执行，此后再调用next()，返回{ value: undefined, done: true }</li></ul></li></ul></li> <li><p>return</p> <ul><li>终结generate函数执行</li> <li>不提供参数，return() ==&gt; { value: undefined, done: true }</li> <li>提供参数，return('hello') ==&gt; { value: 'hello', done: true }</li> <li>try...catch...finally 先执行finally再执行return</li></ul></li> <li><p>yield *</p></li></ul> <p><code>调用另一个generate函数，放在函数内部（手动遍历）返回遍历器对象（for...of）</code></p> <ul><li><p>遇到return返回的结果给一个赋值变量</p></li> <li><p>this</p> <ul><li>g返回的是一个遍历器对象，不是this对象</li> <li>不能与new命令使用，报错</li> <li>变通</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 1</span>
  <span class="token keyword">function</span><span class="token operator">*</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: 2, done: false}</span>
  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: 3, done: false}</span>
  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: undefined, done: true}</span>

  obj<span class="token punctuation">.</span>a <span class="token comment">// 1</span>
  obj<span class="token punctuation">.</span>b <span class="token comment">// 2</span>
  obj<span class="token punctuation">.</span>c <span class="token comment">// 3</span>

  <span class="token comment">// 2 new</span>
  <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">gen</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>gen<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: 2, done: false}</span>
  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: 3, done: false}</span>
  f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Object {value: undefined, done: true}</span>

  f<span class="token punctuation">.</span>a <span class="token comment">// 1</span>
  f<span class="token punctuation">.</span>b <span class="token comment">// 2</span>
  f<span class="token punctuation">.</span>c <span class="token comment">// 3</span>
</code></pre></div></li> <li><p>异步应用</p></li></ul> <p>诞生之前<code>回调函数 事件监听 发布/订阅 Promise</code></p> <ul><li><p>协程（线程）</p> <ul><li><ol><li>协程A开始执行</li></ol></li> <li><ol start="2"><li>执行到一半，暂停执行，转交到协程B</li></ol></li> <li><ol start="3"><li>一段时间，协程B交还执行权</li></ol></li> <li><ol start="4"><li>协程A恢复执行</li></ol></li></ul></li> <li><p>Thunk函数(传名调用，只接受回调函数作为单参数)</p> <p><code>（传值调用 🆚 传名调用）</code></p></li> <li><p>CO模块（自动执行器）</p> <div class="custom-block warning"><p class="custom-block-title">自动执行器</p> <p>自动执行器注意的是，next携带参数是作为上一个yield的返回值</p></div></li></ul> <h2 id="class"><a href="#class" class="header-anchor">#</a> Class</h2> <ul><li><p>new.target</p> <p><code>用在构造函数之中，返回new命令作用于的那个构造函数</code></p></li> <li><p>继承</p> <ul><li>super
<ul><li><ol><li>super作为函数调用时，作为父类的构造对象</li></ol></li> <li><ol start="2"><li>super作为对象时，在普通方法中，指向父类的原型对象；在静态方法中指向父类</li></ol> <ul><li>无法通过super调用父类的静态属性和方法</li> <li>子类普通方法中super调用父类的方法时，方法内部的this指向当前的子类实例</li> <li>用在静态方法中，指向父类，而不是父类的原型对象</li> <li>子类静态方法中super调用父类的方法时，方法内部的this指向子类，而不是子类实例</li></ul></li> <li>⚠️super必须显式指定作为函数还是作为对象使用，否则会报错</li></ul></li></ul></li></ul> <h2 id="arraybuffer"><a href="#arraybuffer" class="header-anchor">#</a> ArrayBuffer</h2> <ul><li>DataView 视图</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
dataView<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><ul><li>TypedArray 视图
<ul><li>小端字节序（litte endian）：将最不重要的字节排在前面</li> <li>大端字节序（big endian）：将最重要的字节放在前面</li></ul></li></ul> <p><code>不是一个构造函数，一组构造函数组成</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> x1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
x1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> x2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
x2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

x1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 2</span>
</code></pre></div><ul><li>prototype 方法
<ul><li>byteLength</li> <li>slice</li> <li>isView(参数是否为ArrayBuffer的视图实例)</li></ul></li></ul> <h2 id="commonjs-es6"><a href="#commonjs-es6" class="header-anchor">#</a> CommonJS ES6</h2> <div class="custom-block tip"><p class="custom-block-title">CommonJS</p> <p>导入 --&gt; require; 导出 --&gt; exports module.exports</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * commonjs exports 对象形式
 * function(module, exports, require) {}
 * commonjs(module &amp; module.exports) 两个参数都要操作⚠️⚠️⚠️
 * 
*/</span> 
<span class="token keyword">let</span> module <span class="token operator">=</span> <span class="token punctuation">{</span> exports<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// a.js</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">// 多个exports导出时</span>
exports <span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 这里会导出一个对象 {a, b, c}</span>
<span class="token comment">// 只允许一个module.exports</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// b.js</span>
<span class="token comment">// 一个文件同时出现 exports 和 modules.exports 时 ⚠️⚠️⚠️</span>
<span class="token keyword">let</span> lib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a: 1}</span>
lib<span class="token punctuation">.</span>cc <span class="token operator">=</span> <span class="token string">'hello common js'</span><span class="token punctuation">;</span> <span class="token comment">// exports ==&gt; {a: 1, b: 2, c: 3}</span>
<span class="token comment">// 改变 module.exports 属性时 a.js中 exports 对象属性不会变动</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">ES6</p> <p>导入 --&gt; import; 导出 --&gt; export (export default)</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es6 规范主要对属性变化的是操作 module.exports 一个参数⚠️⚠️⚠️</span>
<span class="token keyword">let</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>exports<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// a.js</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> a<span class="token punctuation">;</span>

<span class="token comment">// b.js</span>
<span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span>
<span class="token comment">// es6 导出的对象 {a: 1, b: 2, c: 3}</span>
<span class="token comment">// 存在默认default导出时 对象格式 {a: 1, b: 2, c: 3, default: 1}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2020-12-4 19:35:02</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ent-docs/just-do-it/javascript/jsop.html" class="prev">JS 运算符</a></span> <span class="next"><a href="/ent-docs/just-do-it/nodejs/console.html">多彩的console</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ent-docs/assets/js/app.cb8a79a7.js" defer></script><script src="/ent-docs/assets/js/2.791e7058.js" defer></script><script src="/ent-docs/assets/js/29.1422cf46.js" defer></script>

    <!-- Google Analytics -->
    <script>
      window.ga =
        window.ga ||
        function() {
          (ga.q = ga.q || []).push(arguments);
        };
      ga.l = +new Date();
      ga('create', 'UA-156116652-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <!-- End Google Analytics -->
  </body>
</html>

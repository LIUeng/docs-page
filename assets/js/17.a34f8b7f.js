(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{219:function(t,a,v){"use strict";v.r(a);var _=v(0),s=Object(_.a)({},(function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"前端文档"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档"}},[t._v("#")]),t._v(" 前端文档")]),t._v(" "),v("blockquote",[v("p",[t._v("以下图片失效，有兴趣打开原文阅读")])]),t._v(" "),v("p",[v("a",{attrs:{href:"https://juejin.cn/post/6844904192792870919",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文阅读"),v("OutboundLink")],1)]),t._v(" "),v("ul",[v("li",[t._v("文档桌面应用客户端 ------ word excel ppt wps ···")]),t._v(" "),v("li",[t._v("在线文档(类似) ------ "),v("a",{attrs:{href:"https://docs.google.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("google 文档"),v("OutboundLink")],1)])]),t._v(" "),v("h2",{attrs:{id:"前端文档浅思考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档浅思考"}},[t._v("#")]),t._v(" 前端文档浅思考")]),t._v(" "),v("p",[v("strong",[t._v("如果你去开发你会怎么做")])]),t._v(" "),v("ul",[v("li",[t._v("input?")]),t._v(" "),v("li",[t._v("textarea?")]),t._v(" "),v("li",[t._v("div?contenteditable?(富文本可编辑属性)")])]),t._v(" "),v("h3",{attrs:{id:"富文本编辑"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#富文本编辑"}},[t._v("#")]),t._v(" 富文本编辑")]),t._v(" "),v("p",[t._v("以下 API 来自[JavaScript 高级程序设计第三版]")]),t._v(" "),v("div",{staticClass:"language-js extra-class"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档执行预定义命令，接收三个参数")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 要执行的命令名称")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 浏览器是否应该为当前的命令用户界面提供一个布尔值（兼容性，始终为false)")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 执行命令必须的一个值(无 => null)")]),t._v("\ndocument"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("execCommand")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),v("h4",{attrs:{id:"操作富文本"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#操作富文本"}},[t._v("#")]),t._v(" 操作富文本")]),t._v(" "),v("blockquote",[v("p",[t._v("document.execCommand()")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("值(第三个字符串)")]),t._v(" "),v("th",[t._v("解释")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("backColor")]),t._v(" "),v("td",[t._v("颜色字符串")]),t._v(" "),v("td",[t._v("设置文档的背景颜色")])]),t._v(" "),v("tr",[v("td",[t._v("bold")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("加粗文字")])]),t._v(" "),v("tr",[v("td",[t._v("copy")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("复制到剪贴板")])]),t._v(" "),v("tr",[v("td",[t._v("createLinkt")]),t._v(" "),v("td",[t._v("url 字符串")]),t._v(" "),v("td",[t._v("转换成一个链接")])]),t._v(" "),v("tr",[v("td",[t._v("cut")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("剪切")])]),t._v(" "),v("tr",[v("td",[t._v("delete")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("删除选择的文本")])]),t._v(" "),v("tr",[v("td",[t._v("fontname")]),t._v(" "),v("td",[t._v("字体名称")]),t._v(" "),v("td",[t._v("修改字体")])]),t._v(" "),v("tr",[v("td",[t._v("fontsize")]),t._v(" "),v("td",[t._v("数字")]),t._v(" "),v("td",[t._v("字体大小")])]),t._v(" "),v("tr",[v("td",[t._v("forecolor")]),t._v(" "),v("td",[t._v("颜色字符串")]),t._v(" "),v("td",[t._v("字体颜色")])]),t._v(" "),v("tr",[v("td",[t._v("formatblock")]),t._v(" "),v("td",[t._v("要包围当前文本块的 html 标签")]),t._v(" "),v("td",[t._v("h1 h2 ~")])]),t._v(" "),v("tr",[v("td",[t._v("indent")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("缩进文本")])]),t._v(" "),v("tr",[v("td",[t._v("inserthorizontalrule")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("插入一个<hr>标签")])]),t._v(" "),v("tr",[v("td",[t._v("insertimage")]),t._v(" "),v("td",[t._v("url 字符串")]),t._v(" "),v("td",[t._v("插入一张图片")])]),t._v(" "),v("tr",[v("td",[t._v("insertorderedlist")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("<ol>")])]),t._v(" "),v("tr",[v("td",[t._v("insertunorderedlist")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("<ul>")])]),t._v(" "),v("tr",[v("td",[t._v("insertparagraph")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("<p>")])]),t._v(" "),v("tr",[v("td",[t._v("italic")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("斜体")])]),t._v(" "),v("tr",[v("td",[t._v("justifycenter")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("居中")])]),t._v(" "),v("tr",[v("td",[t._v("justifyleft")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("左对齐")])]),t._v(" "),v("tr",[v("td",[t._v("outdent")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("减少缩进")])]),t._v(" "),v("tr",[v("td",[t._v("paste")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("粘贴")])]),t._v(" "),v("tr",[v("td",[t._v("removeformat")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("撤销 formatblock 操作")])]),t._v(" "),v("tr",[v("td",[t._v("selectall")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("选中所有文本")])]),t._v(" "),v("tr",[v("td",[t._v("underline")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("下划线")])]),t._v(" "),v("tr",[v("td",[t._v("unlink")]),t._v(" "),v("td",[t._v("null")]),t._v(" "),v("td",[t._v("移除文本的链接")])])])]),t._v(" "),v("ul",[v("li",[t._v("document.queryCommandEnabled() 方法可以检测当前位置是否可以执行某个命令")]),t._v(" "),v("li",[t._v("document.queryCommandState() 方法可以检测当前文本是否执行过某个命令")])]),t._v(" "),v("h4",{attrs:{id:"富文本选区"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#富文本选区"}},[t._v("#")]),t._v(" 富文本选区")]),t._v(" "),v("p",[t._v("获取选择文本")]),t._v(" "),v("blockquote",[v("p",[t._v("(window || document).getSelection()")])]),t._v(" "),v("p",[v("strong",[t._v("1. Selection 对象属性")])]),t._v(" "),v("ul",[v("li",[t._v("anchorNode：选区起点所在的节点")]),t._v(" "),v("li",[t._v("anchorOffset：在到达选区起点位置之前跳过的 anchorNode 中的字符数量")]),t._v(" "),v("li",[t._v("focusNode：选区终点所在的节点")]),t._v(" "),v("li",[t._v("focusOffset：focusNode 中包含在选区之内的字符数量")]),t._v(" "),v("li",[t._v("isCollapsed：布尔值，表示选区的起点和终点是否重合")]),t._v(" "),v("li",[t._v("rangeCount：选区中包含的 DOM 范围的数量")])]),t._v(" "),v("p",[v("strong",[t._v("2. Selection 对象方法")])]),t._v(" "),v("ul",[v("li",[t._v("addRange(range)：将指定的 DOM 范围添加到选区中")]),t._v(" "),v("li",[t._v("collapse(node, offset)：将选区折叠到指定节点中的相应的文本偏移位置")]),t._v(" "),v("li",[t._v("collapseToEnd()：将选区折叠到终点位置")]),t._v(" "),v("li",[t._v("collapseToStart()：将选区折叠到起点位置")]),t._v(" "),v("li",[t._v("containsNode(node)：确定指定的节点是否包含在选区中")]),t._v(" "),v("li",[t._v('deleteFromDocument()：从文档中删除选区中的文本，与 document.execCommand("delete",\nfalse, null)命令的结果相同')]),t._v(" "),v("li",[t._v("extend(node, offset)：通过将 focusNode 和 focusOffset 移动到指定的值来扩展选区")]),t._v(" "),v("li",[t._v("getRangeAt(index)：返回索引对应的选区中的 DOM 范围")]),t._v(" "),v("li",[t._v("removeAllRanges()：从选区中移除所有 DOM 范围。实际上，这样会移除选区，因为选区中\n至少要有一个范围")]),t._v(" "),v("li",[t._v("reomveRange(range)：从选区中移除指定的 DOM 范围")]),t._v(" "),v("li",[t._v("selectAllChildren(node)：清除选区并选择指定节点的所有子节点")]),t._v(" "),v("li",[t._v("toString()：返回选区所包含的文本内容")])]),t._v(" "),v("p",[v("strong",[t._v("3. 示例：给选中的文本加上背景颜色")])]),t._v(" "),v("div",{staticClass:"language-js extra-class"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取选区文本")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" selection "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取选区范围")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" range "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selection"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRangeAt")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建包围元素")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" span "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nspan"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'orange'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrange"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("surroundContents")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("span"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),v("h4",{attrs:{id:"操作范围-dom2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#操作范围-dom2"}},[t._v("#")]),t._v(" 操作范围 DOM2")]),t._v(" "),v("blockquote",[v("p",[t._v("document.createRange()")])]),t._v(" "),v("ol",[v("li",[t._v("简单选择 DOM 范围")]),t._v(" "),v("li",[t._v("复杂选择 DOM 范围")]),t._v(" "),v("li",[t._v("操作 DOM 范围中的内容")]),t._v(" "),v("li",[t._v("插入 DOM 范围中的内容")]),t._v(" "),v("li",[t._v("折叠 DOM 范围")]),t._v(" "),v("li",[t._v("比较 DOM 范围")])]),t._v(" "),v("h4",{attrs:{id:"复合事件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#复合事件"}},[t._v("#")]),t._v(" 复合事件")]),t._v(" "),v("ul",[v("li",[t._v("compositionstart：在 IME 的文本复合系统打开时触发，表示要开始输入了")]),t._v(" "),v("li",[t._v("compositionupdate：在向输入字段中插入新字符时触发")]),t._v(" "),v("li",[t._v("compositionend：在 IME 的文本复合系统关闭时触发，表示返回正常键盘输入状态")])]),t._v(" "),v("h2",{attrs:{id:"前端文档深思考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档深思考"}},[t._v("#")]),t._v(" 前端文档深思考")]),t._v(" "),v("blockquote",[v("p",[t._v("前端文档的技术该如何选择以及采坑？")])]),t._v(" "),v("h3",{attrs:{id:"同构表vs异构表"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#同构表vs异构表"}},[t._v("#")]),t._v(" 同构表VS异构表")]),t._v(" "),v("h3",{attrs:{id:"文档技术"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文档技术"}},[t._v("#")]),t._v(" 文档技术")]),t._v(" "),v("h3",{attrs:{id:"在线协同"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#在线协同"}},[t._v("#")]),t._v(" 在线协同")]),t._v(" "),v("h2",{attrs:{id:"前端文档应用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档应用"}},[t._v("#")]),t._v(" 前端文档应用")]),t._v(" "),v("p",[t._v("来看看一些用过的在线文档编辑设计思路以及架构模式")]),t._v(" "),v("h3",{attrs:{id:"钉钉"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#钉钉"}},[t._v("#")]),t._v(" 钉钉")]),t._v(" "),v("p",[v("strong",[t._v("菜鸟业务WebExcel")])]),t._v(" "),v("h3",{attrs:{id:"语雀"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#语雀"}},[t._v("#")]),t._v(" 语雀")]),t._v(" "),v("p",[v("strong",[t._v("语雀自研之路")])]),t._v(" "),v("h2",{attrs:{id:"前端文档性能"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档性能"}},[t._v("#")]),t._v(" 前端文档性能")]),t._v(" "),v("h3",{attrs:{id:"大数据"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#大数据"}},[t._v("#")]),t._v(" 大数据")]),t._v(" "),v("blockquote",[v("p",[t._v("成千上百万的节点不可能一次性渲染出来，对于浏览器来说是一笔巨大的开销")])]),t._v(" "),v("h3",{attrs:{id:"最大单元格数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#最大单元格数"}},[t._v("#")]),t._v(" 最大单元格数")]),t._v(" "),v("blockquote",[v("p",[t._v("在线文档如何缓存数据，这也是必须值得思考的地方")])]),t._v(" "),v("h2",{attrs:{id:"前端文档展望"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前端文档展望"}},[t._v("#")]),t._v(" 前端文档展望")]),t._v(" "),v("h3",{attrs:{id:"复杂度"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#复杂度"}},[t._v("#")]),t._v(" \b复杂度")]),t._v(" "),v("p",[t._v("前端文档的复杂度很高，它的细腻程度非常之细，像语雀这种在线表格自研之路，考虑的问题很多；我作为一个普通开发者来说，开发的成本很大，但是前端文档非常值得思考，包括技术储备（数据结构性能优化）以及冷门的API学习都要串联起来")]),t._v(" "),v("h3",{attrs:{id:"未来"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#未来"}},[t._v("#")]),t._v(" 未来")]),t._v(" "),v("p",[t._v("前端文档是一个深耕并且值得投入的领域，用户的体验累积，会打造出越来越完美的前端文档")]),t._v(" "),v("p",[t._v("END")])])}),[],!1,null,null,null);a.default=s.exports}}]);